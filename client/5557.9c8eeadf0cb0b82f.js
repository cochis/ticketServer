"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5557],{5557:(X,g,l)=>{l.r(g),l.d(g,{VistaBoletosPageModule:()=>W});var d=l(6814),m=l(6223),u=l(9843),p=l(1896),h=l(5861),_=l(1476),f=l(3566),c=l(5313),B=l(553),t=l(5879),v=l(7203),x=l(6942),Z=l(8941),T=l(2363);function P(o,e){1&o&&(t.TgZ(0,"th",22),t._uU(1,"ID"),t.qZA())}function V(o,e){if(1&o&&(t.TgZ(0,"td",23),t._uU(1),t.qZA()),2&o){const i=e.$implicit;t.Akn("font-size: 10px;background-color:"+i.color+";color:black"),t.xp6(1),t.hij(" ",i.uid," ")}}function b(o,e){1&o&&(t.TgZ(0,"th",22),t._uU(1,"Fiesta"),t.qZA())}function A(o,e){if(1&o&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&o){const i=e.$implicit;t.xp6(1),t.hij(" ",i.fiesta.nombre,"")}}function C(o,e){1&o&&(t.TgZ(0,"th",22),t._uU(1,"Invitaciones"),t.qZA())}function y(o,e){if(1&o&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&o){const i=e.$implicit;t.xp6(1),t.hij(" ",i.fiesta.cantidad," ")}}function N(o,e){1&o&&(t.TgZ(0,"th",22),t._uU(1,"Restan"),t.qZA())}function U(o,e){if(1&o&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&o){const i=e.$implicit,a=t.oxw();t.xp6(1),t.hij(" ",i.fiesta.cantidad-a.getInvitados(i.invitados),"")}}function D(o,e){1&o&&(t.TgZ(0,"th",22),t._uU(1,"Llena"),t.qZA())}function Y(o,e){if(1&o&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&o){const i=e.$implicit;t.xp6(1),t.hij(" ",i.llena,"")}}function w(o,e){1&o&&(t.TgZ(0,"th",22),t._uU(1,"Activado"),t.qZA())}function S(o,e){if(1&o&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&o){const i=e.$implicit;t.xp6(1),t.hij(" ",i.activated?"Activado":"Desactivado","")}}function Q(o,e){1&o&&(t.TgZ(0,"th",22),t._uU(1,"Fecha de creaci\xf3n"),t.qZA())}function k(o,e){if(1&o&&(t.TgZ(0,"td",24),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const i=e.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,i.dateCreated,"shortDate"),"")}}function L(o,e){1&o&&(t.TgZ(0,"th",22),t._uU(1,"Ultima modificaci\xf3n"),t.qZA())}function $(o,e){if(1&o&&(t.TgZ(0,"td",24),t._uU(1),t.ALo(2,"date"),t.qZA()),2&o){const i=e.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,i.lastEdited,"shortDate"),"")}}function z(o,e){1&o&&(t.TgZ(0,"th",25),t._uU(1,"Opciones"),t.qZA())}function M(o,e){if(1&o){const i=t.EpF();t.ynx(0),t.TgZ(1,"button",31),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,s=t.oxw();return t.KtG(s.editBoleto(n.uid))}),t._UZ(2,"ion-icon",32),t.qZA(),t.BQk()}}function J(o,e){if(1&o){const i=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,s=t.oxw();return t.KtG(s.isActived(n))}),t._UZ(1,"ion-icon",34),t.qZA()}}function E(o,e){if(1&o){const i=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(i);const n=t.oxw().$implicit,s=t.oxw();return t.KtG(s.isActived(n))}),t._UZ(1,"ion-icon",35),t.qZA()}}function I(o,e){if(1&o){const i=t.EpF();t.TgZ(0,"td",26)(1,"button",27),t.NdJ("click",function(){const s=t.CHM(i).$implicit,r=t.oxw();return t.KtG(r.viewBoleto(s.uid))}),t._UZ(2,"ion-icon",28),t.qZA(),t.YNc(3,M,3,0,"ng-container",29),t.YNc(4,J,2,0,"button",30),t.YNc(5,E,2,0,"button",30),t.qZA()}if(2&o){const i=e.$implicit;t.xp6(3),t.Q6J("ngIf",i.activated),t.xp6(1),t.Q6J("ngIf",i.activated),t.xp6(1),t.Q6J("ngIf",!i.activated)}}function R(o,e){1&o&&t._UZ(0,"tr",36)}function j(o,e){1&o&&t._UZ(0,"tr",37)}function F(o,e){1&o&&(t.TgZ(0,"tr",38)(1,"td",39),t._uU(2,'No se encontraron datos"'),t.qZA()())}const G=function(){return[100,200,500]},H=[{path:"",component:(()=>{var o;class e{constructor(a,n,s){this.functionsService=a,this.fiestasService=n,this.boletosService=s,this.ld=!1,this.displayedColumns=["uid","fiesta","invitados","restan","llena","activated","dateCreated","lastEdited","opciones"],this.url=B.N.base_url,console.log("inicio"),this.cargarBoletos()}getTipoEv(a){return this.functionsService.getValueCatalog(a,"fiesta",this.boletos)}cargarBoletos(){this.onLoading(),this.boletosService.cargarBoletosAll().subscribe(a=>{this.boletos=a.boletos,console.log(" this.boletos::: ",this.boletos),this.addData(this.boletos),this.offLoading()},a=>{this.offLoading(),console.log("error::: ",a)})}ngOnInit(){}onLoading(){var a=this;this.functionsService.showLoading().then(function(){var n=(0,h.Z)(function*(s){a.loading=s});return function(s){return n.apply(this,arguments)}}())}offLoading(){setTimeout(()=>{this.functionsService.closeLoading(this.loading)},500)}addData(a){try{this.dataSource=new c.by(a),this.paginator._intl.firstPageLabel="Primera p\xe1gina",this.paginator._intl.itemsPerPageLabel="Datos por p\xe1gina",this.paginator._intl.lastPageLabel="\xfaltima p\xe1gina",this.paginator._intl.nextPageLabel="Siguiente p\xe1gina",this.paginator._intl.previousPageLabel="P\xe1gina anterior",this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.ld=!0}catch(n){this.offLoading(),console.log("error::: ",n)}}isActived(a){this.boletosService.isActivedBoleto(a).subscribe(n=>{console.log("resp::: ",n),this.cargarBoletos()},n=>{console.log("error::: ",n)})}editBoleto(a){this.functionsService.navigateTo(`/core/boletos/editar-boleto/true/${a}`)}viewBoleto(a){this.functionsService.navigateTo(`/core/boletos/editar-boleto/false/${a}`)}getCantidadBoletos(a){}getInvitados(a){return a.reduce((s,r)=>"number"==typeof r.cantidad?s+r.cantidad:s,0)}}return(o=e).\u0275fac=function(a){return new(a||o)(t.Y36(v.d),t.Y36(x.O),t.Y36(Z.s))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-vista-boletos"]],viewQuery:function(a,n){if(1&a&&(t.Gf(_.NW,5),t.Gf(f.YE,5)),2&a){let s;t.iGM(s=t.CRH())&&(n.paginator=s.first),t.iGM(s=t.CRH())&&(n.sort=s.first)}},decls:35,vars:5,consts:[["titulo","Boletos"],[1,"ion-padding"],["tabindex","0",1,"mat-elevation-z8","displayBlock"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","uid"],["mat-header-cell","","mat-sort-header","","style","font-size: 12px;",4,"matHeaderCellDef"],["mat-cell","",3,"style",4,"matCellDef"],["matColumnDef","fiesta"],["mat-cell","","style","font-size: 10px;",4,"matCellDef"],["matColumnDef","invitados"],["matColumnDef","restan"],["matColumnDef","llena"],["matColumnDef","activated"],["matColumnDef","dateCreated"],["matColumnDef","lastEdited"],["matColumnDef","opciones"],["mat-header-cell","","style","font-size: 12px;",4,"matHeaderCellDef"],["mat-cell","","class","ion-text-center",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of data",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header","",2,"font-size","12px"],["mat-cell",""],["mat-cell","",2,"font-size","10px"],["mat-header-cell","",2,"font-size","12px"],["mat-cell","",1,"ion-text-center"],["aria-label","Ver",1,"opciones",3,"click"],["name","eye","color","primary"],[4,"ngIf"],["aria-label","Borrar","class","opciones","color","danger",3,"click",4,"ngIf"],["aria-label"," Editar",1,"opciones",3,"click"],["name","pencil","color","tertiary"],["aria-label","Borrar","color","danger",1,"opciones",3,"click"],["name","close","color","danger"],["name","checkmark","color","success"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(a,n){1&a&&(t._UZ(0,"app-header",0),t.TgZ(1,"ion-content",1)(2,"div",2)(3,"table",3),t.ynx(4,4),t.YNc(5,P,2,0,"th",5),t.YNc(6,V,2,3,"td",6),t.BQk(),t.ynx(7,7),t.YNc(8,b,2,0,"th",5),t.YNc(9,A,2,1,"td",8),t.BQk(),t.ynx(10,9),t.YNc(11,C,2,0,"th",5),t.YNc(12,y,2,1,"td",8),t.BQk(),t.ynx(13,10),t.YNc(14,N,2,0,"th",5),t.YNc(15,U,2,1,"td",8),t.BQk(),t.ynx(16,11),t.YNc(17,D,2,0,"th",5),t.YNc(18,Y,2,1,"td",8),t.BQk(),t.ynx(19,12),t.YNc(20,w,2,0,"th",5),t.YNc(21,S,2,1,"td",8),t.BQk(),t.ynx(22,13),t.YNc(23,Q,2,0,"th",5),t.YNc(24,k,3,4,"td",8),t.BQk(),t.ynx(25,14),t.YNc(26,L,2,0,"th",5),t.YNc(27,$,3,4,"td",8),t.BQk(),t.ynx(28,15),t.YNc(29,z,2,0,"th",16),t.YNc(30,I,6,3,"td",17),t.BQk(),t.YNc(31,R,1,0,"tr",18),t.YNc(32,j,1,0,"tr",19),t.YNc(33,F,3,0,"tr",20),t.qZA()(),t._UZ(34,"mat-paginator",21),t.qZA()),2&a&&(t.xp6(3),t.Q6J("dataSource",n.dataSource),t.xp6(28),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(4,G)))},dependencies:[d.O5,u.W2,u.gu,_.NW,f.YE,f.nU,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,c.Ee,T.G,d.uU]}),e})()}];let q=(()=>{var o;class e{}return(o=e).\u0275fac=function(a){return new(a||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[p.Bz.forChild(H),p.Bz]}),e})();var O=l(4476),K=l(8554);let W=(()=>{var o;class e{}return(o=e).\u0275fac=function(a){return new(a||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[d.ez,m.u5,u.Pc,q,m.UX,O.q,K.m]}),e})()}}]);