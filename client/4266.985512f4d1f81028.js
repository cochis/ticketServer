"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4266],{9273:(y,u,i)=>{i.r(u),i.d(u,{CrearRolPageModule:()=>P});var m=i(6814),t=i(6223),n=i(9843),g=i(4828),f=i(5861),e=i(5879),h=i(7203),v=i(8042),p=i(2363);const C=[{path:"",component:(()=>{var o;class a{constructor(r,s,c){this.functionsService=r,this.fb=s,this.rolesService=c,this.today=this.functionsService.getToday(),this.roles=[],this.formSubmitted=!1,this.cargando=!1,this.onLoading(),this.createForm(),this.rolesService.cargarRolesAll().subscribe(d=>{this.roles=d.roles,this.offLoading()},d=>{console.log("error::: ",d)})}ngOnInit(){}createForm(){this.cargando=!0,this.registerForm=this.fb.group({nombre:["",[t.kI.required,t.kI.minLength(3)]],clave:["",[t.kI.required,t.kI.minLength(8),t.kI.maxLength(8)]],activated:[!1],dateCreated:[this.today],lastEdited:[this.today]}),this.cargando=!1}onSubmit(){if(this.onLoading(),!this.registerForm.valid)return this.functionsService.presentToast("bottom","Por favor completa el formulario","danger"),this.offLoading(),console.log("Please provide all the required values!");this.rol={...this.rol,...this.registerForm.value},this.rol.nombre=this.rol.nombre.toUpperCase(),this.rol.clave=this.rol.clave.toUpperCase(),this.rolesService.crearRole(this.rol).subscribe(r=>{this.functionsService.presentToast("bottom","Rol Creado","primary"),this.functionsService.navigateTo("core/roles/vista-roles"),this.offLoading()},r=>{this.functionsService.presentToast("bottom","Error","danger"),this.offLoading(),console.log("error::: ",r)}),console.log(this.registerForm.value)}onLoading(){var r=this;this.functionsService.showLoading().then(function(){var s=(0,f.Z)(function*(c){r.loading=c});return function(c){return s.apply(this,arguments)}}())}offLoading(){setTimeout(()=>{this.functionsService.closeLoading(this.loading)},500)}back(){this.functionsService.navigateTo("core/roles/vista-roles")}}return(o=a).\u0275fac=function(r){return new(r||o)(e.Y36(h.d),e.Y36(t.qu),e.Y36(v.f))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-crear-rol"]],decls:19,vars:3,consts:[["titulo","Crear Rol"],[3,"fullscreen"],["novalidate","",3,"formGroup","ngSubmit"],["fixed","",1,"minHeight"],[1,"ion-text-center"],["size","12","size-md","6"],["lines","none"],["type","string","placeholder","Nombre","name","nombre","label","Nombre","labelPlacement","floating","formControlName","nombre","required","",1,"upperC"],["type","string","placeholder","Clave","name","clave","label","Clave","labelPlacement","floating","formControlName","clave","required","",1,"upperC"],["fixed",""],["size","6"],["color","secondary","expand","block",1,"ion-padding","ion-no-border",3,"click"],["color","primary","type","submit","expand","block",1,"ion-padding","ion-no-border",3,"disabled"]],template:function(r,s){1&r&&(e._UZ(0,"app-header",0),e.TgZ(1,"ion-content",1)(2,"form",2),e.NdJ("ngSubmit",function(){return s.onSubmit()}),e.TgZ(3,"ion-grid",3)(4,"ion-row",4)(5,"ion-col",5)(6,"ion-item",6),e._UZ(7,"ion-input",7),e.qZA()(),e.TgZ(8,"ion-col",5)(9,"ion-item",6),e._UZ(10,"ion-input",8),e.qZA()()()(),e.TgZ(11,"ion-grid",9)(12,"ion-row",4)(13,"ion-col",10)(14,"ion-button",11),e.NdJ("click",function(){return s.back()}),e._uU(15," Regresar "),e.qZA()(),e.TgZ(16,"ion-col",10)(17,"ion-button",12),e._uU(18," Crear "),e.qZA()()()()()()),2&r&&(e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("formGroup",s.registerForm),e.xp6(15),e.Q6J("disabled",s.registerForm.invalid))},dependencies:[t._Y,t.JJ,t.JL,t.Q7,n.YG,n.wI,n.W2,n.jY,n.pK,n.Ie,n.Nd,n.j9,t.sg,t.u,p.G]}),a})()}];let b=(()=>{var o;class a{}return(o=a).\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[g.Bz.forChild(C),g.Bz]}),a})();var R=i(4476),S=i(8554);let P=(()=>{var o;class a{}return(o=a).\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[m.ez,t.u5,n.Pc,b,t.UX,R.q,S.m]}),a})()}}]);