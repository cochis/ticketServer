"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2638],{2957:(te,Z,g)=>{g.d(Z,{G:()=>w});const w={FRONT:"front",BACK:"back"}},2726:(te,Z,g)=>{g.d(Z,{Uw:()=>R,fo:()=>B});var d=g(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var H=function(n){return n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE",n}(H||{});class C extends Error{constructor(e,t,o){super(e),this.message=e,this.code=t,this.data=o}}const K=n=>{var e,t,o,a,r;const u=n.CapacitorCustomPlatform||null,i=n.Capacitor||{},v=i.Plugins=i.Plugins||{},f=n.CapacitorPlatforms,$=(null===(e=null==f?void 0:f.currentPlatform)||void 0===e?void 0:e.getPlatform)||(()=>null!==u?u.name:(n=>{var e,t;return null!=n&&n.androidBridge?"android":null!==(t=null===(e=null==n?void 0:n.webkit)||void 0===e?void 0:e.messageHandlers)&&void 0!==t&&t.bridge?"ios":"web"})(n)),le=(null===(t=null==f?void 0:f.currentPlatform)||void 0===t?void 0:t.isNativePlatform)||(()=>"web"!==$()),ue=(null===(o=null==f?void 0:f.currentPlatform)||void 0===o?void 0:o.isPluginAvailable)||(m=>{const p=V.get(m);return!!(null!=p&&p.platforms.has($())||oe(m))}),oe=(null===(a=null==f?void 0:f.currentPlatform)||void 0===a?void 0:a.getPluginHeader)||(m=>{var p;return null===(p=i.PluginHeaders)||void 0===p?void 0:p.find(j=>j.name===m)}),V=new Map,ve=(null===(r=null==f?void 0:f.currentPlatform)||void 0===r?void 0:r.registerPlugin)||((m,p={})=>{const j=V.get(m);if(j)return console.warn(`Capacitor plugin "${m}" already registered. Cannot register plugins twice.`),j.proxy;const D=$(),I=oe(m);let O;const he=function(){var h=(0,d.Z)(function*(){return!O&&D in p?O=O="function"==typeof p[D]?yield p[D]():p[D]:null!==u&&!O&&"web"in p&&(O=O="function"==typeof p.web?yield p.web():p.web),O});return function(){return h.apply(this,arguments)}}(),q=h=>{let y;const A=(..._)=>{const T=he().then(E=>{const U=((h,y)=>{var A,_;if(!I){if(h)return null===(_=h[y])||void 0===_?void 0:_.bind(h);throw new C(`"${m}" plugin is not implemented on ${D}`,H.Unimplemented)}{const T=null==I?void 0:I.methods.find(E=>y===E.name);if(T)return"promise"===T.rtype?E=>i.nativePromise(m,y.toString(),E):(E,U)=>i.nativeCallback(m,y.toString(),E,U);if(h)return null===(A=h[y])||void 0===A?void 0:A.bind(h)}})(E,h);if(U){const z=U(..._);return y=null==z?void 0:z.remove,z}throw new C(`"${m}.${h}()" is not implemented on ${D}`,H.Unimplemented)});return"addListener"===h&&(T.remove=(0,d.Z)(function*(){return y()})),T};return A.toString=()=>`${h.toString()}() { [capacitor code] }`,Object.defineProperty(A,"name",{value:h,writable:!1,configurable:!1}),A},ie=q("addListener"),se=q("removeListener"),ye=(h,y)=>{const A=ie({eventName:h},y),_=function(){var E=(0,d.Z)(function*(){const U=yield A;se({eventName:h,callbackId:U},y)});return function(){return E.apply(this,arguments)}}(),T=new Promise(E=>A.then(()=>E({remove:_})));return T.remove=(0,d.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield _()}),T},ee=new Proxy({},{get(h,y){switch(y){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return I?ye:ie;case"removeListener":return se;default:return q(y)}}});return v[m]=ee,V.set(m,{name:m,proxy:ee,platforms:new Set([...Object.keys(p),...I?[D]:[]])}),ee});return i.convertFileSrc||(i.convertFileSrc=m=>m),i.getPlatform=$,i.handleError=m=>n.console.error(m),i.isNativePlatform=le,i.isPluginAvailable=ue,i.pluginMethodNoop=(m,p,j)=>Promise.reject(`${j} does not have an implementation of "${p}".`),i.registerPlugin=ve,i.Exception=C,i.DEBUG=!!i.DEBUG,i.isLoggingEnabled=!!i.isLoggingEnabled,i.platform=i.getPlatform(),i.isNative=i.isNativePlatform(),i},k=(n=>n.Capacitor=K(n))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),B=k.registerPlugin;class R{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,t){var o=this;this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t);const r=this.windowListeners[e];r&&!r.registered&&this.addWindowListener(r);const u=function(){var v=(0,d.Z)(function*(){return o.removeListener(e,t)});return function(){return v.apply(this,arguments)}}(),i=Promise.resolve({remove:u});return Object.defineProperty(i,"remove",{value:(v=(0,d.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield u()}),function(){return v.apply(this,arguments)})}),i;var v}removeAllListeners(){var e=this;return(0,d.Z)(function*(){e.listeners={};for(const t in e.windowListeners)e.removeWindowListener(e.windowListeners[t]);e.windowListeners={}})()}notifyListeners(e,t){const o=this.listeners[e];o&&o.forEach(a=>a(t))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:o=>{this.notifyListeners(t,o)}}}unimplemented(e="not implemented"){return new k.Exception(e,H.Unimplemented)}unavailable(e="not available"){return new k.Exception(e,H.Unavailable)}removeListener(e,t){var o=this;return(0,d.Z)(function*(){const a=o.listeners[e];if(!a)return;const r=a.indexOf(t);o.listeners[e].splice(r,1),o.listeners[e].length||o.removeWindowListener(o.windowListeners[e])})()}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}const W=n=>encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),G=n=>n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class s extends R{getCookies(){return(0,d.Z)(function*(){const e=document.cookie,t={};return e.split(";").forEach(o=>{if(o.length<=0)return;let[a,r]=o.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=G(a).trim(),r=G(r).trim(),t[a]=r}),t})()}setCookie(e){return(0,d.Z)(function*(){try{const t=W(e.key),o=W(e.value),a=`; expires=${(e.expires||"").replace("expires=","")}`,r=(e.path||"/").replace("path=",""),u=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${o||""}${a}; path=${r}; ${u};`}catch(t){return Promise.reject(t)}})()}deleteCookie(e){return(0,d.Z)(function*(){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}})()}clearCookies(){return(0,d.Z)(function*(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}})()}clearAllCookies(){var e=this;return(0,d.Z)(function*(){try{yield e.clearCookies()}catch(t){return Promise.reject(t)}})()}}B("CapacitorCookies",{web:()=>new s});const b=function(){var n=(0,d.Z)(function*(e){return new Promise((t,o)=>{const a=new FileReader;a.onload=()=>{const r=a.result;t(r.indexOf(",")>=0?r.split(",")[1]:r)},a.onerror=r=>o(r),a.readAsDataURL(e)})});return function(t){return n.apply(this,arguments)}}();class ce extends R{request(e){return(0,d.Z)(function*(){const t=((n,e={})=>{const t=Object.assign({method:n.method||"GET",headers:n.headers},e),a=((n={})=>{const e=Object.keys(n);return Object.keys(n).map(a=>a.toLocaleLowerCase()).reduce((a,r,u)=>(a[r]=n[e[u]],a),{})})(n.headers)["content-type"]||"";if("string"==typeof n.data)t.body=n.data;else if(a.includes("application/x-www-form-urlencoded")){const r=new URLSearchParams;for(const[u,i]of Object.entries(n.data||{}))r.set(u,i);t.body=r.toString()}else if(a.includes("multipart/form-data")){const r=new FormData;if(n.data instanceof FormData)n.data.forEach((i,v)=>{r.append(v,i)});else for(const i of Object.keys(n.data))r.append(i,n.data[i]);t.body=r;const u=new Headers(t.headers);u.delete("content-type"),t.headers=u}else(a.includes("application/json")||"object"==typeof n.data)&&(t.body=JSON.stringify(n.data));return t})(e,e.webFetchExtra),o=((n,e=!0)=>n?Object.entries(n).reduce((o,a)=>{const[r,u]=a;let i,v;return Array.isArray(u)?(v="",u.forEach(f=>{i=e?encodeURIComponent(f):f,v+=`${r}=${i}&`}),v.slice(0,-1)):(i=e?encodeURIComponent(u):u,v=`${r}=${i}`),`${o}&${v}`},"").substr(1):null)(e.params,e.shouldEncodeUrlParams),a=o?`${e.url}?${o}`:e.url,r=yield fetch(a,t),u=r.headers.get("content-type")||"";let v,f,{responseType:i="text"}=r.ok?e:{};switch(u.includes("application/json")&&(i="json"),i){case"arraybuffer":case"blob":f=yield r.blob(),v=yield b(f);break;case"json":v=yield r.json();break;default:v=yield r.text()}const N={};return r.headers.forEach(($,Y)=>{N[Y]=$}),{data:v,headers:N,status:r.status,url:r.url}})()}get(e){var t=this;return(0,d.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"GET"}))})()}post(e){var t=this;return(0,d.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"POST"}))})()}put(e){var t=this;return(0,d.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"PUT"}))})()}patch(e){var t=this;return(0,d.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"PATCH"}))})()}delete(e){var t=this;return(0,d.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"DELETE"}))})()}}B("CapacitorHttp",{web:()=>new ce})},2638:(te,Z,g)=>{g.r(Z),g.d(Z,{HomePageModule:()=>G});var d=g(6814),M=g(6223),w=g(9843),x=g(1896),c=g(5879),F=g(5861),X=g(2726);g(2957);const C=(0,X.fo)("BarcodeScanner",{web:()=>g.e(7606).then(g.bind(g,7606)).then(s=>new s.BarcodeScannerWeb)});let J=(()=>{var s;class P{constructor(){}prepare(){return(0,F.Z)(function*(){C.prepare()})()}checkPermission(){return(0,F.Z)(function*(){return!!(yield C.checkPermission({force:!0})).granted})()}startScan(){var l=this;return(0,F.Z)(function*(){console.log("dasds");try{if(!(yield l.checkPermission()))return;yield C.hideBackground(),document.querySelector("body").classList.add("scanner-active"),setTimeout(()=>{l.stopScan(),document.querySelector("body").classList.remove("scanner-active")},5e3);const L=yield C.startScan();return console.log("result::: ",L),null!=L&&L.hasContent?(C.showBackground(),l.stopScan(),yield L.content):void 0}catch(S){return console.log("error::: ",S),document.querySelector("body").classList.remove("scanner-active"),void l.stopScan()}})()}stopScan(){document.querySelector("body").classList.remove("scanner-active"),C.showBackground(),C.stopScan()}}return(s=P).\u0275fac=function(l){return new(l||s)},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),P})();var K=g(7203),Q=g(7742),k=g(2363);let B=(()=>{var s;class P{constructor(){}ngOnInit(){}}return(s=P).\u0275fac=function(l){return new(l||s)},s.\u0275cmp=c.Xpm({type:s,selectors:[["app-loading"]],decls:2,vars:0,consts:[[1,"ion-text-center",2,"width","100%","height","100%","background-color","#33333357"],["name","dots"]],template:function(l,S){1&l&&(c.TgZ(0,"div",0),c._UZ(1,"ion-spinner",1),c.qZA())},dependencies:[w.PQ]}),P})();function ne(s,P){1&s&&c._UZ(0,"app-loading")}const R=[{path:"",component:(()=>{var s;class P{constructor(l,S,L){this.router=l,this.barcodeService=S,this.functionsService=L,this.loading=!1,this.doc=document.querySelector("body")}ngOnDestroy(){this.barcodeService.stopScan()}ngOnInit(){this.barcodeService.checkPermission()}logout(){this.router.navigateByUrl("auth",{replaceUrl:!0})}scan(){this.functionsService.getLocal("uid")?this.barcodeService.startScan().then(l=>{console.log("res::: ",l),this.code=l}):this.functionsService.navigateTo("auth")}stop(){this.barcodeService.stopScan()}}return(s=P).\u0275fac=function(l){return new(l||s)(c.Y36(x.F0),c.Y36(J),c.Y36(K.d))},s.\u0275cmp=c.Xpm({type:s,selectors:[["app-home"]],decls:12,vars:16,consts:[["titulo","Tickets"],[3,"fullscreen"],["fixed",""],["size","12"],["expand","block","fill","clear","shape","round",3,"click"],["lines","none"],[1,"qrcodeImage"],["qrdata","https://ticketfieta.com",3,"allowEmptyString","ariaLabel","cssClass","colorDark","colorLight","elementType","errorCorrectionLevel","imageSrc","imageHeight","imageWidth","margin","scale","title","width"],["size","12",1,"ion-text-center"],[4,"ngIf"]],template:function(l,S){1&l&&(c._UZ(0,"app-header",0),c.TgZ(1,"ion-content",1)(2,"ion-grid",2)(3,"ion-row")(4,"ion-col",3)(5,"ion-button",4),c.NdJ("click",function(){return S.scan()}),c.TgZ(6,"ion-item",5)(7,"div",6),c._UZ(8,"qrcode",7),c.qZA()()()(),c.TgZ(9,"ion-col",8),c._uU(10,"Agregar fiesta"),c.qZA()()(),c.YNc(11,ne,1,0,"app-loading",9),c.qZA()),2&l&&(c.xp6(1),c.Q6J("fullscreen",!0),c.xp6(7),c.Q6J("allowEmptyString",!0)("ariaLabel","QR Code image with the following content...")("cssClass","center")("colorDark","#183d3d")("colorLight","#ffffffff")("elementType","canvas")("errorCorrectionLevel","H")("imageSrc","./assets/images/logo.jpeg")("imageHeight",75)("imageWidth",80)("margin",4)("scale",1)("title","Agregar fiesta")("width",300),c.xp6(3),c.Q6J("ngIf",S.loading))},dependencies:[d.O5,w.YG,w.wI,w.W2,w.jY,w.Ie,w.Nd,Q.V,k.G,B]}),P})()}];let re=(()=>{var s;class P{}return(s=P).\u0275fac=function(l){return new(l||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({imports:[x.Bz.forChild(R),x.Bz]}),P})();var W=g(8554);let G=(()=>{var s;class P{}return(s=P).\u0275fac=function(l){return new(l||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({imports:[d.ez,M.u5,w.Pc,re,Q.N,W.m]}),P})()}}]);