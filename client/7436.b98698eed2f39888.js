"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7436],{7436:(rt,m,n)=>{n.r(m),n.d(m,{VistaUsuariosPageModule:()=>nt});var u=n(6814),f=n(6223),l=n(9843),p=n(4828),h=n(5861),_=n(1476),g=n(3566),c=n(5313),t=n(5879),U=n(5612),x=n(7203),Z=n(8042),T=n(3429),v=n(2363);function P(a,o){1&a&&(t.TgZ(0,"th",26),t._uU(1,"ID"),t.qZA())}function V(a,o){if(1&a&&(t.TgZ(0,"td",27),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.Akn("font-size: 10px;background-color:"+e.color+";color:black"),t.xp6(1),t.hij(" ",e.uid," ")}}function A(a,o){1&a&&(t.TgZ(0,"th",26),t._uU(1,"Nombre"),t.qZA())}function C(a,o){if(1&a&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.hij(" ",e.nombre,"")}}function N(a,o){1&a&&(t.TgZ(0,"th",26),t._uU(1,"Apellido paterno"),t.qZA())}function y(a,o){if(1&a&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.hij(" ",e.apellidoPaterno,"")}}function Y(a,o){1&a&&(t.TgZ(0,"th",26),t._uU(1,"Apellido materno"),t.qZA())}function w(a,o){if(1&a&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.hij(" ",e.apellidoMaterno,"")}}function D(a,o){1&a&&(t.TgZ(0,"th",26),t._uU(1,"Correo electr\xf3nico"),t.qZA())}function S(a,o){if(1&a&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.hij(" ",e.email,"")}}function b(a,o){1&a&&(t.TgZ(0,"th",26),t._uU(1,"Imagen"),t.qZA())}function Q(a,o){if(1&a&&(t.TgZ(0,"td",28)(1,"ion-avatar"),t._UZ(2,"img",29),t.qZA()()),2&a){const e=o.$implicit;t.xp6(2),t.Q6J("src",""!==e.img?"http://localhost:3006/api/upload/usuarios/"+e.img:"http://localhost:3006/api/upload/usuarios/default.jpg",t.LSH)}}function k(a,o){1&a&&(t.TgZ(0,"th",26),t._uU(1,"Role"),t.qZA())}function B(a,o){if(1&a&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&a){const e=o.$implicit,i=t.oxw();t.xp6(1),t.hij(" ",i.getrol(e.role),"")}}function M(a,o){1&a&&(t.TgZ(0,"th",26),t._uU(1,"Salon"),t.qZA())}function $(a,o){if(1&a&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&a){const e=o.$implicit,i=t.oxw();t.xp6(1),t.hij(" ",e.salon?i.getsalon(e.salon):"","")}}function q(a,o){1&a&&(t.TgZ(0,"th",26),t._uU(1,"Google"),t.qZA())}function z(a,o){if(1&a&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.hij(" ",e.google,"")}}function J(a,o){1&a&&(t.TgZ(0,"th",26),t._uU(1,"Activado"),t.qZA())}function L(a,o){if(1&a&&(t.TgZ(0,"td",28),t._uU(1),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.hij(" ",e.activated?"Activado":"Desactivado","")}}function j(a,o){1&a&&(t.TgZ(0,"th",26),t._uU(1,"Fecha de creaci\xf3n"),t.qZA())}function R(a,o){if(1&a&&(t.TgZ(0,"td",28),t._uU(1),t.ALo(2,"date"),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.dateCreated,"shortDate"),"")}}function G(a,o){1&a&&(t.TgZ(0,"th",26),t._uU(1,"Ultima modificaci\xf3n"),t.qZA())}function O(a,o){if(1&a&&(t.TgZ(0,"td",28),t._uU(1),t.ALo(2,"date"),t.qZA()),2&a){const e=o.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.lastEdited,"shortDate"),"")}}function E(a,o){1&a&&(t.TgZ(0,"th",30),t._uU(1,"Opciones"),t.qZA())}function F(a,o){if(1&a){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",36),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,r=t.oxw();return t.KtG(r.editUsuario(s.uid))}),t._UZ(2,"ion-icon",37),t.qZA(),t.BQk()}}function H(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"button",38),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,r=t.oxw();return t.KtG(r.isActived(s))}),t._UZ(1,"ion-icon",39),t.qZA()}}function I(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"button",38),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,r=t.oxw();return t.KtG(r.isActived(s))}),t._UZ(1,"ion-icon",40),t.qZA()}}function K(a,o){if(1&a){const e=t.EpF();t.TgZ(0,"td",31)(1,"button",32),t.NdJ("click",function(){const r=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.viewUsuario(r.uid))}),t._UZ(2,"ion-icon",33),t.qZA(),t.YNc(3,F,3,0,"ng-container",34),t.YNc(4,H,2,0,"button",35),t.YNc(5,I,2,0,"button",35),t.qZA()}if(2&a){const e=o.$implicit;t.xp6(3),t.Q6J("ngIf",e.activated),t.xp6(1),t.Q6J("ngIf",e.activated),t.xp6(1),t.Q6J("ngIf",!e.activated)}}function W(a,o){1&a&&t._UZ(0,"tr",41)}function X(a,o){1&a&&t._UZ(0,"tr",42)}function tt(a,o){1&a&&(t.TgZ(0,"tr",43)(1,"td",44),t._uU(2,'No se encontraron datos"'),t.qZA()())}const at=function(){return[100,200,500]},it=[{path:"",component:(()=>{var a;class o{constructor(i,s,r,d){this.usuariosService=i,this.functionsService=s,this.rolesService=r,this.salonsService=d,this.displayedColumns=["uid","nombre","apellidoPaterno","apellidoMaterno","email","img","role","salon","google","activated","dateCreated","lastEdited","opciones"]}ngOnInit(){}getRoles(){this.rolesService.cargarRolesAll().subscribe(i=>{this.roles=i.roles,console.log("this.roles ::: ",this.roles)},i=>{console.log("error::: ",i)})}getSalones(){this.salonsService.cargarSalonsAll().subscribe(i=>{this.salons=i.salons,console.log("this.salons ::: ",this.salons)},i=>{console.log("error::: ",i)})}getrol(i){return this.functionsService.getValueCatalog(i,"nombre",this.roles)}getsalon(i){return this.functionsService.getValueCatalog(i,"nombre",this.salons)}cargarUsuarios(){this.onLoading(),this.getRoles(),this.getSalones(),this.usuariosService.cargarAlumnosAll().subscribe(i=>{this.data=i.usuarios,console.log("resp.usuarios::: ",i.usuarios),this.addData(this.data),this.offLoading()},i=>{this.offLoading(),console.log("error::: ",i)})}ngAfterViewInit(){this.cargarUsuarios()}addData(i){this.dataSource=new c.by(i),this.paginator._intl.firstPageLabel="Primera p\xe1gina",this.paginator._intl.itemsPerPageLabel="Datos por p\xe1gina",this.paginator._intl.lastPageLabel="\xfaltima p\xe1gina",this.paginator._intl.nextPageLabel="Siguiente p\xe1gina",this.paginator._intl.previousPageLabel="P\xe1gina anterior",this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}getNivel(i){return i%2==0?"Licenciatura":"Maestria"}getActivo(i){return i%2==0?"lock-closed":"lock-open"}editUsuario(i){console.log("id::: ",i),this.functionsService.navigateTo(`/core/usuarios/editar-usuario/true/${i}`)}isActived(i){console.log("id::: ",i),this.usuariosService.isActivedUsuario(i).subscribe(s=>{console.log("resp::: ",s),this.cargarUsuarios()},s=>{console.log("error::: ",s)})}viewUsuario(i){this.functionsService.navigateTo(`/core/usuarios/editar-usuario/false/${i}`)}onLoading(){var i=this;this.functionsService.showLoading().then(function(){var s=(0,h.Z)(function*(r){i.loading=r});return function(r){return s.apply(this,arguments)}}())}offLoading(){setTimeout(()=>{this.functionsService.closeLoading(this.loading)},500)}}return(a=o).\u0275fac=function(i){return new(i||a)(t.Y36(U.J),t.Y36(x.d),t.Y36(Z.f),t.Y36(T.S))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-vista-usuarios"]],viewQuery:function(i,s){if(1&i&&(t.Gf(_.NW,5),t.Gf(g.YE,5)),2&i){let r;t.iGM(r=t.CRH())&&(s.paginator=r.first),t.iGM(r=t.CRH())&&(s.sort=r.first)}},decls:47,vars:5,consts:[["titulo","Usuarios"],[1,"ion-padding"],["tabindex","0",1,"mat-elevation-z8","displayBlock"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","uid"],["mat-header-cell","","mat-sort-header","","style","font-size: 12px;",4,"matHeaderCellDef"],["mat-cell","",3,"style",4,"matCellDef"],["matColumnDef","nombre"],["mat-cell","","style","font-size: 10px;",4,"matCellDef"],["matColumnDef","apellidoPaterno"],["matColumnDef","apellidoMaterno"],["matColumnDef","email"],["matColumnDef","img"],["matColumnDef","role"],["matColumnDef","salon"],["matColumnDef","google"],["matColumnDef","activated"],["matColumnDef","dateCreated"],["matColumnDef","lastEdited"],["matColumnDef","opciones"],["mat-header-cell","","style","font-size: 12px;",4,"matHeaderCellDef"],["mat-cell","","class","ion-text-center",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of data",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header","",2,"font-size","12px"],["mat-cell",""],["mat-cell","",2,"font-size","10px"],[2,"margin","auto","margin-top","15px","width","32px !important","height","32px !important",3,"src"],["mat-header-cell","",2,"font-size","12px"],["mat-cell","",1,"ion-text-center"],["aria-label","Ver",1,"opciones",3,"click"],["name","eye","color","primary"],[4,"ngIf"],["aria-label","Borrar","class","opciones","color","danger",3,"click",4,"ngIf"],["aria-label"," Editar",1,"opciones",3,"click"],["name","pencil","color","tertiary"],["aria-label","Borrar","color","danger",1,"opciones",3,"click"],["name","close","color","danger"],["name","checkmark","color","success"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(i,s){1&i&&(t._UZ(0,"app-header",0),t.TgZ(1,"ion-content",1)(2,"div",2)(3,"table",3),t.ynx(4,4),t.YNc(5,P,2,0,"th",5),t.YNc(6,V,2,3,"td",6),t.BQk(),t.ynx(7,7),t.YNc(8,A,2,0,"th",5),t.YNc(9,C,2,1,"td",8),t.BQk(),t.ynx(10,9),t.YNc(11,N,2,0,"th",5),t.YNc(12,y,2,1,"td",8),t.BQk(),t.ynx(13,10),t.YNc(14,Y,2,0,"th",5),t.YNc(15,w,2,1,"td",8),t.BQk(),t.ynx(16,11),t.YNc(17,D,2,0,"th",5),t.YNc(18,S,2,1,"td",8),t.BQk(),t.ynx(19,12),t.YNc(20,b,2,0,"th",5),t.YNc(21,Q,3,1,"td",8),t.BQk(),t.ynx(22,13),t.YNc(23,k,2,0,"th",5),t.YNc(24,B,2,1,"td",8),t.BQk(),t.ynx(25,14),t.YNc(26,M,2,0,"th",5),t.YNc(27,$,2,1,"td",8),t.BQk(),t.ynx(28,15),t.YNc(29,q,2,0,"th",5),t.YNc(30,z,2,1,"td",8),t.BQk(),t.ynx(31,16),t.YNc(32,J,2,0,"th",5),t.YNc(33,L,2,1,"td",8),t.BQk(),t.ynx(34,17),t.YNc(35,j,2,0,"th",5),t.YNc(36,R,3,4,"td",8),t.BQk(),t.ynx(37,18),t.YNc(38,G,2,0,"th",5),t.YNc(39,O,3,4,"td",8),t.BQk(),t.ynx(40,19),t.YNc(41,E,2,0,"th",20),t.YNc(42,K,6,3,"td",21),t.BQk(),t.YNc(43,W,1,0,"tr",22),t.YNc(44,X,1,0,"tr",23),t.YNc(45,tt,3,0,"tr",24),t.qZA()(),t._UZ(46,"mat-paginator",25),t.qZA()),2&i&&(t.xp6(3),t.Q6J("dataSource",s.dataSource),t.xp6(40),t.Q6J("matHeaderRowDef",s.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",s.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(4,at)))},dependencies:[u.O5,l.BJ,l.W2,l.gu,_.NW,g.YE,g.nU,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,c.Ee,v.G,u.uU],styles:[".displayBlock[_ngcontent-%COMP%]{height:62vh}table[_ngcontent-%COMP%]{width:100%;height:auto}.mat-mdc-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{width:25%}.opciones[_ngcontent-%COMP%]{background:none;font-size:25px}"]}),o})()}];let ot=(()=>{var a;class o{}return(a=o).\u0275fac=function(i){return new(i||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[p.Bz.forChild(it),p.Bz]}),o})();var et=n(4476),st=n(8554);let nt=(()=>{var a;class o{}return(a=o).\u0275fac=function(i){return new(i||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[u.ez,f.u5,f.UX,l.Pc,ot,et.q,st.m]}),o})()}}]);