"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3396],{3396:(J,m,i)=>{i.r(m),i.d(m,{CrearUsuarioPageModule:()=>y});var d=i(6814),r=i(6223),n=i(9843),g=i(4828),p=i(5861),e=i(5879),f=i(7203),h=i(5612),v=i(8042),C=i(3429),b=i(2363);function U(o,t){if(1&o&&(e.ynx(0),e.TgZ(1,"ion-select-option",20),e._uU(2),e.qZA(),e.BQk()),2&o){const s=t.$implicit;e.xp6(1),e.Q6J("value",s.uid),e.xp6(1),e.Oqu(s.nombre)}}function Z(o,t){if(1&o&&(e.ynx(0),e.TgZ(1,"ion-select-option",20),e._uU(2),e.qZA(),e.BQk()),2&o){const s=t.$implicit;e.xp6(1),e.Q6J("value",s.uid),e.xp6(1),e.Oqu(s.nombre)}}const P=[{path:"",component:(()=>{var o;class t{constructor(a,l,c,A,L){this.functionsService=a,this.fb=l,this.usuariosService=c,this.rolesService=A,this.salonsService=L,this.today=this.functionsService.getToday(),this.roles=[],this.salons=[],this.formSubmitted=!1,this.cargando=!1,this.onLoading(),this.createForm(),this.rolesService.cargarRolesAll().subscribe(u=>{this.roles=u.roles,this.offLoading()},u=>{this.offLoading(),console.log("error::: ",u)}),this.salonsService.cargarSalonsAll().subscribe(u=>{this.salons=u.salons,console.log("salons ::: ",this.salons),this.offLoading()},u=>{this.offLoading(),console.log("error::: ",u)})}ngOnInit(){}get errorControl(){return this.registerForm.controls}createForm(){this.cargando=!0,this.registerForm=this.fb.group({nombre:["",[r.kI.required,r.kI.minLength(3)]],apellidoPaterno:["",[r.kI.required,r.kI.minLength(3)]],apellidoMaterno:[""],email:["",[r.kI.required,r.kI.email]],password:["",[r.kI.required,r.kI.minLength(6)]],img:[""],role:["",[r.kI.required]],salon:[""],google:[!1],activated:[!1],dateCreated:[this.today],lastEdited:[this.today]}),this.cargando=!1}onSubmit(){if(this.onLoading(),!this.registerForm.valid)return this.functionsService.presentToast("bottom","Por favor completa el formulario","danger"),this.offLoading(),console.log("Please provide all the required values!");this.registerForm.value.nombre=this.registerForm.value.nombre.toUpperCase(),this.registerForm.value.apellidoPaterno=this.registerForm.value.apellidoPaterno.toUpperCase(),this.registerForm.value.apellidoMaterno=this.registerForm.value.apellidoMaterno.toUpperCase(),this.registerForm.value.email=this.registerForm.value.email.toLowerCase(),this.usuariosService.crearUsuario(this.registerForm.value).subscribe(a=>{this.functionsService.presentToast("bottom","Usuario Creado","primary"),this.functionsService.navigateTo("core/usuarios/vista-usuarios"),this.offLoading()},a=>{this.functionsService.presentToast("bottom","Error","danger"),this.offLoading(),console.log("error::: ",a)}),console.log(this.registerForm.value)}onLoading(){var a=this;this.functionsService.showLoading().then(function(){var l=(0,p.Z)(function*(c){a.loading=c});return function(c){return l.apply(this,arguments)}}())}offLoading(){setTimeout(()=>{this.functionsService.closeLoading(this.loading)},500)}back(){this.functionsService.navigateTo("core/usuarios/vista-usuarios")}}return(o=t).\u0275fac=function(a){return new(a||o)(e.Y36(f.d),e.Y36(r.qu),e.Y36(h.J),e.Y36(v.f),e.Y36(C.S))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-crear-usuario"]],decls:36,vars:5,consts:[["titulo","Crear Usuario"],[3,"fullscreen"],["novalidate","",3,"formGroup","ngSubmit"],["fixed","",1,"minHeight"],[1,"ion-text-center"],["size","12","size-md","6"],["lines","none"],["type","string","placeholder","Nombre(s)","name","nombre","label","Nombre","labelPlacement","floating","formControlName","nombre","required","",1,"upperC"],["size","12","size-md","3"],["type","string","placeholder","Apellido paterno","name","apellidoPaterno","label","Apellido paterno","labelPlacement","floating","formControlName","apellidoPaterno","required","",1,"upperC"],["type","string","placeholder","Apellido materno","name","apellidoMaterno","label","Apellido materno","labelPlacement","floating","formControlName","apellidoMaterno","required","",1,"upperC"],["type","email","placeholder","Correo electr\xf3nico","name","email","label","Correo electr\xf3nico","labelPlacement","floating","formControlName","email","required","",1,"upperC"],["type","password","placeholder","Contrase\xf1a","name","password","label","Contrase\xf1a","labelPlacement","floating","formControlName","password","required",""],["label","Rol","label-placement","floating","formControlName","role","required",""],[4,"ngFor","ngForOf"],["label","Salon","label-placement","floating","formControlName","salon","required",""],["fixed",""],["size","6"],["color","secondary","expand","block",1,"ion-padding","ion-no-border",3,"click"],["color","primary","type","submit","expand","block",1,"ion-padding","ion-no-border",3,"disabled"],[3,"value"]],template:function(a,l){1&a&&(e._UZ(0,"app-header",0),e.TgZ(1,"ion-content",1)(2,"form",2),e.NdJ("ngSubmit",function(){return l.onSubmit()}),e.TgZ(3,"ion-grid",3)(4,"ion-row",4)(5,"ion-col",5)(6,"ion-item",6),e._UZ(7,"ion-input",7),e.qZA()(),e.TgZ(8,"ion-col",8)(9,"ion-item",6),e._UZ(10,"ion-input",9),e.qZA()(),e.TgZ(11,"ion-col",8)(12,"ion-item",6),e._UZ(13,"ion-input",10),e.qZA()(),e.TgZ(14,"ion-col",5)(15,"ion-item",6),e._UZ(16,"ion-input",11),e.qZA()(),e.TgZ(17,"ion-col",5)(18,"ion-item",6),e._UZ(19,"ion-input",12),e.qZA()(),e.TgZ(20,"ion-col",5)(21,"ion-item",6)(22,"ion-select",13),e.YNc(23,U,3,2,"ng-container",14),e.qZA()()(),e.TgZ(24,"ion-col",5)(25,"ion-item",6)(26,"ion-select",15),e.YNc(27,Z,3,2,"ng-container",14),e.qZA()()()()(),e.TgZ(28,"ion-grid",16)(29,"ion-row",4)(30,"ion-col",17)(31,"ion-button",18),e.NdJ("click",function(){return l.back()}),e._uU(32," Regresar "),e.qZA()(),e.TgZ(33,"ion-col",17)(34,"ion-button",19),e._uU(35," Crear "),e.qZA()()()()()()),2&a&&(e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("formGroup",l.registerForm),e.xp6(21),e.Q6J("ngForOf",l.roles),e.xp6(4),e.Q6J("ngForOf",l.salons),e.xp6(7),e.Q6J("disabled",l.registerForm.invalid))},dependencies:[d.sg,r._Y,r.JJ,r.JL,r.Q7,n.YG,n.wI,n.W2,n.jY,n.pK,n.Ie,n.Nd,n.t9,n.n0,n.QI,n.j9,r.sg,r.u,b.G]}),t})()}];let F=(()=>{var o;class t{}return(o=t).\u0275fac=function(a){return new(a||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[g.Bz.forChild(P),g.Bz]}),t})();var S=i(8554),T=i(4476);let y=(()=>{var o;class t{}return(o=t).\u0275fac=function(a){return new(a||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[d.ez,r.u5,n.Pc,F,r.UX,T.q,S.m]}),t})()}}]);