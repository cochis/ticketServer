"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4669],{4669:(P,l,n)=>{n.r(l),n.d(l,{EditarTipoGrupoPageModule:()=>E});var c=n(6814),e=n(6223),a=n(9843),d=n(4828),m=n(5861),o=n(5879),g=n(7203),h=n(8672),f=n(2363);function v(t,s){if(1&t&&(o.TgZ(0,"ion-col",10)(1,"ion-button",13),o._uU(2," Editar "),o.qZA()()),2&t){const p=o.oxw();o.xp6(1),o.Q6J("disabled",p.tipoGrupoForm.invalid)}}const G=[{path:"",component:(()=>{var t;class s{constructor(i,r,u,S,L){this.functionsService=i,this.route=r,this.fb=u,this.router=S,this.tipoGruposService=L,this.today=this.functionsService.getToday(),this.formSubmitted=!1,this.cargando=!1,this.imgTemp=void 0,this.createForm(),this.id=this.route.snapshot.params.id,this.edit=this.route.snapshot.params.edit,this.getId(this.id),this.offLoading()}ngOnInit(){}getId(i){this.tipoGruposService.cargarTipoGrupoById(i).subscribe(r=>{this.onLoading(),console.log("resp::: ",r),this.tipoGrupo=r.tipoGrupo,this.setForm(this.tipoGrupo),this.offLoading()},r=>{this.offLoading(),console.log("error::: ",r)})}createForm(){this.tipoGrupoForm=this.fb.group({nombre:["",[e.kI.required,e.kI.minLength(3)]],clave:["",[e.kI.required,e.kI.minLength(3),e.kI.maxLength(8)]],activated:[!1],dateCreated:[this.today],lastEdited:[this.today]})}setForm(i){console.log("rol::: ",i),this.tipoGrupoForm=this.fb.group({nombre:[i.nombre,[e.kI.required,e.kI.minLength(3)]],clave:[i.clave,[e.kI.required,e.kI.minLength(8),e.kI.maxLength(8)]],activated:[i.activated],dateCreated:[i.dateCreated],lastEdited:[this.today]})}onSubmit(){if(this.onLoading(),!this.tipoGrupoForm.valid)return this.functionsService.presentToast("bottom","Por favor completa el formulario","danger"),void this.offLoading();this.tipoGrupo={...this.tipoGrupo,...this.tipoGrupoForm.value},this.tipoGrupo.nombre=this.tipoGrupo.nombre.toUpperCase(),this.tipoGrupo.clave=this.tipoGrupo.clave.toUpperCase(),this.tipoGruposService.actualizarTipoGrupo(this.tipoGrupo).subscribe(i=>{this.functionsService.presentToast("bottom","Tipo Grupo Actualizado","primary"),this.functionsService.navigateTo("core/tipo-grupos/vista-tipos-grupos"),this.offLoading()},i=>{this.functionsService.presentToast("bottom","Error","danger"),this.offLoading()})}back(){this.functionsService.navigateTo("core/tipo-grupos/vista-tipos-grupos")}onLoading(){var i=this;this.functionsService.showLoading().then(function(){var r=(0,m.Z)(function*(u){i.loading=u});return function(u){return r.apply(this,arguments)}}())}offLoading(){setTimeout(()=>{this.functionsService.closeLoading(this.loading)},500)}}return(t=s).\u0275fac=function(i){return new(i||t)(o.Y36(g.d),o.Y36(d.gz),o.Y36(e.qu),o.Y36(d.F0),o.Y36(h.w))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-editar-tipo-grupo"]],decls:17,vars:6,consts:[[3,"titulo"],[3,"fullscreen"],["novalidate","",3,"formGroup","ngSubmit"],["fixed","",1,"minHeight"],[1,"ion-text-center"],["size","12","size-md","6"],["lines","none"],["type","string","placeholder","Nombre","name","nombre","label","Nombre","labelPlacement","floating","formControlName","nombre","required","",1,"upperC",3,"readonly"],["type","string","placeholder","Clave","name","clave","label","Clave","labelPlacement","floating","formControlName","clave","required","",1,"upperC",3,"readonly"],["fixed","",1,"ion-text-center"],["size","6"],["color","secondary","expand","block",1,"ion-padding","ion-no-border",3,"click"],["size","6",4,"ngIf"],["color","primary","type","submit","expand","block",1,"ion-padding","ion-no-border",3,"disabled"]],template:function(i,r){1&i&&(o._UZ(0,"app-header",0),o.TgZ(1,"ion-content",1)(2,"form",2),o.NdJ("ngSubmit",function(){return r.onSubmit()}),o.TgZ(3,"ion-grid",3)(4,"ion-row",4)(5,"ion-col",5)(6,"ion-item",6),o._UZ(7,"ion-input",7),o.qZA()(),o.TgZ(8,"ion-col",5)(9,"ion-item",6),o._UZ(10,"ion-input",8),o.qZA()()()(),o.TgZ(11,"ion-grid",9)(12,"ion-row",4)(13,"ion-col",10)(14,"ion-button",11),o.NdJ("click",function(){return r.back()}),o._uU(15," Regresar "),o.qZA()(),o.YNc(16,v,3,1,"ion-col",12),o.qZA()()()()),2&i&&(o.Q6J("titulo","true"===r.edit?"Editar usuario":"Ver usuario"),o.xp6(1),o.Q6J("fullscreen",!0),o.xp6(1),o.Q6J("formGroup",r.tipoGrupoForm),o.xp6(5),o.Q6J("readonly","false"===r.edit),o.xp6(3),o.Q6J("readonly","false"===r.edit),o.xp6(6),o.Q6J("ngIf","true"===r.edit))},dependencies:[c.O5,e._Y,e.JJ,e.JL,e.Q7,a.YG,a.wI,a.W2,a.jY,a.pK,a.Ie,a.Nd,a.j9,e.sg,e.u,f.G]}),s})()}];let T=(()=>{var t;class s{}return(t=s).\u0275fac=function(i){return new(i||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[d.Bz.forChild(G),d.Bz]}),s})();var b=n(4476),y=n(8554);let E=(()=>{var t;class s{}return(t=s).\u0275fac=function(i){return new(i||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[c.ez,e.u5,a.Pc,T,e.UX,b.q,y.m]}),s})()}}]);